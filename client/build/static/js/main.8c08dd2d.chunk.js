(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{41:function(e,t,a){e.exports=a(89)},46:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(38),r=a.n(c),o=(a(46),a(20)),i=a(1),s=a(4),m=(a(53),function(){var e=Object(s.b)().loginWithRedirect;return l.a.createElement("button",{onClick:function(){return e()}},"Log In")}),u=function(){return l.a.createElement("main",{id:"main-splash"},l.a.createElement("section",{id:"logo"},l.a.createElement("img",{src:"../../../img/puppy-love.png",alt:"Logo"})),l.a.createElement("section",{id:"message"},l.a.createElement("h5",null,"Discover new friends for your lovely pets around your area."),l.a.createElement("p",null,"You must have a pet to enjoy this app."),l.a.createElement("p",null,"This application requires ",l.a.createElement("b",null,"Location Service")," to be ON"),l.a.createElement(m,null)))};var d=function(){return l.a.createElement("div",null,l.a.createElement("ul",{className:"collection"},l.a.createElement("li",{className:"collection-item avatar"},l.a.createElement("img",{src:"../../../img/dog-01.jpg",alt:"",className:"circle"}),l.a.createElement("p",null,"2021-03-17"),l.a.createElement("span",{className:"title"},"Cutedog123")," sent you a bark!",l.a.createElement("p",null,"Respond with a bark if you are interested in meeting up"),l.a.createElement("a",{href:"#!",className:"secondary-content"},l.a.createElement("i",{className:"material-icons"},"send"))),l.a.createElement("li",{className:"collection-item avatar"},l.a.createElement("img",{src:"../../../img/dog-02.jpg",alt:"",className:"circle"}),l.a.createElement("p",null,"2021-03-16"),l.a.createElement("span",{className:"title"},"good_boy")," sent you a bark!",l.a.createElement("p",null,"Respond with a bark if you are interested in meeting up"),l.a.createElement("a",{href:"#!",className:"secondary-content"},l.a.createElement("i",{className:"material-icons"},"send"))),l.a.createElement("li",{className:"collection-item avatar"},l.a.createElement("img",{src:"../../../img/dog-03.jpg",alt:"",className:"circle"}),l.a.createElement("p",null,"2021-03-13"),l.a.createElement("span",{className:"title"},"Puppylove_91")," sent you a bark!",l.a.createElement("p",null,"Respond with a bark if you are interested in meeting up"),l.a.createElement("a",{href:"#!",className:"secondary-content"},l.a.createElement("i",{className:"material-icons"},"send"))),l.a.createElement("li",{className:"collection-item avatar"},l.a.createElement("img",{src:"../../../img/dog-04.jpg",alt:"",className:"circle"}),l.a.createElement("p",null,"2021-03-12"),l.a.createElement("span",{className:"title"},"woofy102")," sent you a bark!",l.a.createElement("p",null,"Respond with a bark if you are interested in meeting up"),l.a.createElement("a",{href:"#!",className:"secondary-content"},l.a.createElement("i",{className:"material-icons"},"send")))))},g=a(17),E=a(26),f=a(12),p=a(13),h=a(15),v=a(14),b=(a(54),a(9)),N=a.n(b),y={getNextDog:function(e){N.a.get("https://dog.ceo/api/breeds/image/random/").then((function(e){return console.log(e),e.data.message})).then((function(t){return e(t)}))},getNextDogsNoCheck:function(e,t){N.a.get("https://dog.ceo/api/breeds/image/random/"+e).then((function(e){return console.log(e),e.data.message})).then((function(e){return t(e)}))},saveDogProfile:function(e){return console.log(e),N.a.post("/api/profile",e,{headers:{"content-type":"application/json"}})},getDogProfile:function(){return N.a.get("/api/profile")}},w=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={currentDog:{image:"/img/dog-05.jpeg",name:"Doge",id:0},dogList:[],dogIndex:-1,lastRatedIndex:-1,liked:{0:!0}},e.getNextDog=function(){console.log(e.state.dogIndex,e.state.dogList.length),e.state.dogIndex+3===e.state.dogList.length&&e.getNextDogs(10,(function(t){console.log(e.state.dogList,t),e.setState({dogList:[].concat(Object(E.a)(e.state.dogList),Object(E.a)(t))}),console.log(t)})),e.setState({dogIndex:e.state.dogIndex+1}),console.log(e.state)},e.getPreviousDog=function(){console.log(e.state.dogIndex,e.state.currentDog),e.setState({dogIndex:e.state.dogIndex-1})},e.likeDog=function(){e.setState({liked:Object(g.a)({},e.state.currentDog.id,!0)}),e.state.liked.hasOwnProperty(e.state.currentDog.id)||e.setState({lastRatedIndex:e.state.lastRatedIndex+1}),e.getNextDog()},e.dislikeDog=function(){e.state.liked.hasOwnProperty(e.state.currentDog.id)||e.setState({lastRatedIndex:e.state.lastRatedIndex+1}),e.setState({liked:Object(g.a)({},e.state.currentDog.id,!1)}),e.getNextDog()},e.showNextBtn=function(){if(e.state.dogIndex<=e.state.lastRatedIndex)return l.a.createElement("i",{className:"material-icons forward",onClick:e.getNextDog},"arrow_forward_ios")},e.showPrevBtn=function(){if(e.state.dogIndex>0)return l.a.createElement("i",{className:"material-icons back",onClick:e.getPreviousDog},"arrow_back_ios")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.getNextDogsNoCheck(10,(function(t){e.setState({dogList:t})}))}},{key:"componentDidUpdate",value:function(e,t){this.state.dogIndex!==t.dogIndex&&this.setState({currentDog:{image:this.state.dogList[this.state.dogIndex],name:"Lucky"+this.state.dogIndex,id:this.state.dogList[this.state.dogIndex]}})}},{key:"getNextDogs",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(console.log(this.state.dogList.length,this.state.dogIndex),!e)return t(n);y.getNextDog((function(l){return console.log(a.state.dogList.includes(l)),a.state.dogList.includes(l)||(n.push(l),console.log(n),console.log(e),e--),a.getNextDogs(e,t,n)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-image dog-image"},l.a.createElement("img",{src:this.state.currentDog.image}),l.a.createElement("span",{className:"card-title dog-name"},this.state.currentDog.name)),l.a.createElement("div",{className:"card-action bark-back"},this.showPrevBtn(),this.showNextBtn(),l.a.createElement("a",{href:"#"},l.a.createElement("span",{className:"material-icons like",onClick:this.likeDog},"thumb_up")),l.a.createElement("a",{href:"#"},l.a.createElement("span",{className:"material-icons dislike",onClick:this.dislikeDog},"thumb_down"))))))}}]),a}(n.Component),x=function(){var e=Object(s.b)().logout;return l.a.createElement("button",{className:"btn-flat white-text",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},O=function(){return Object(s.b)().isAuthenticated?l.a.createElement(x,null):l.a.createElement(m,null)},j=(a(72),function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement("nav",{id:"navbar"},l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement("a",{href:"/",className:"brand-logo",id:"nav-logo"},l.a.createElement("img",{src:"../../../img/puppy-love-small.png",alt:""})),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement("a",{href:"/"},"Home")),l.a.createElement("li",null,l.a.createElement("a",{href:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement("a",{href:"/matches"},"Matches")),l.a.createElement("li",null,l.a.createElement("a",{href:"/"},"Settings")),l.a.createElement("li",null,l.a.createElement(O,{className:"btn-flat white-text"}))))),l.a.createElement("nav",{id:"nav-mobile",className:"hide-on-large-only"},l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"/"},l.a.createElement("i",{className:"material-icons"},"home"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/matches"},l.a.createElement("i",{className:"material-icons"},"pets"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/"},l.a.createElement("i",{className:"material-icons"},"person"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/"},"Logout")))))))}),k=function(){return l.a.createElement("div",{className:"spinner"},l.a.createElement("img",{src:"../../../img/loading.svg",alt:"Loading"}))};var D=Object(s.c)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"col s12 m6"},l.a.createElement(w,null)),l.a.createElement("div",{className:"col s12 m6"},l.a.createElement(d,null))))))}),{onredirecting:function(){return l.a.createElement(k,null)}}),L=function(){return Object(s.b)().isAuthenticated?l.a.createElement(D,null):l.a.createElement(u,null)};var S=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(L,null))},C=a(19),I=a(3);function P(e){var t=e.children;return l.a.createElement("div",{className:"container"},t)}function R(e){var t=e.children;return l.a.createElement("div",{className:"row"},t)}function T(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map((function(e){return"col s"+e})).join(" ")},a)}a(73);var B=function(e,t,a,n,c,r){return l.a.createElement("div",null,l.a.createElement("div",{class:"card-panel"},l.a.createElement("h4",null,"My Profile"),l.a.createElement("div",{class:"divider"}),l.a.createElement("h5",null,"Name:")," ",l.a.createElement("p",null,e),l.a.createElement("h5",null,"Breed:")," ",l.a.createElement("p",null,t),l.a.createElement("div",{class:"col s6 leftCol"},l.a.createElement("h5",null,"Age:"),l.a.createElement("p",null,a)),l.a.createElement("div",{class:"col s6"},l.a.createElement("h5",null,"Gender:"),l.a.createElement("p",null,n)),l.a.createElement("h5",null,"About Me:"),l.a.createElement("p",null,c),l.a.createElement("h5",null,"Parks I Enjoy:"),l.a.createElement("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h5",null,"Email Me:"),l.a.createElement("p",null,r)),l.a.createElement("a",{class:"waves-effect waves-light btn"},"Edit Profile"))};l.a.Component,a(74);var W=a(22),A=a.n(W);l.a.Component,a(82);var M=function(){var e=Object(n.useState)("dog@hotmmail.com"),t=Object(I.a)(e,2),a=t[0],c=(t[1],Object(n.useState)("!PuppyLover1")),r=Object(I.a)(c,2),o=(r[0],r[1],Object(n.useState)("Enter the name of your doggie")),i=Object(I.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)("How old is your dog"),d=Object(I.a)(u,2),g=d[0],E=d[1],f=Object(n.useState)("Enter Dog Breed"),p=Object(I.a)(f,2),h=p[0],v=p[1],b=Object(n.useState)("What's their size?"),y=Object(I.a)(b,2),w=y[0],x=y[1],O=Object(n.useState)("What's their gender?"),k=Object(I.a)(O,2),D=k[0],L=k[1],S=Object(n.useState)("Tell us something about your pawesome friend!"),B=Object(I.a)(S,2),W=B[0],A=B[1],M=Object(n.useState)(""),z=Object(I.a)(M,2),F=(z[0],z[1],Object(n.useState)("")),_=Object(I.a)(F,2),U=(_[0],_[1],Object(n.useState)("Which city are you located in?")),J=Object(I.a)(U,2),q=J[0],G=J[1],H=Object(n.useState)({success:!1,url:"../../../img/dog-icon.png",error:!1,errorMessage:""}),K=Object(I.a)(H,2),V=K[0],Y=K[1],$=Object(n.useState)(),Q=Object(I.a)($,2),X=Q[0],Z=Q[1],ee=Object(n.useState)(!0),te=Object(I.a)(ee,2),ae=te[0],ne=te[1],le=function(e){e.preventDefault(),s&&h&&g&&D&&w&&W&&q&&a?console.log({name:s,breed:h,age:g,gender:D,size:w,description:W,location:q,email:a}):console.log("form isn't complete")},ce=function(){return l.a.createElement("div",null,l.a.createElement("p",{style:{color:"green"}},"SUCCESSFUL UPLOAD"))},re=function(){return l.a.createElement("div",null,l.a.createElement("h3",{style:{color:"red"}},"FAILED UPLOAD"))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,null),l.a.createElement(P,null,l.a.createElement(R,null,l.a.createElement(T,{size:"6"},l.a.createElement("div",{id:"profile-img-div"},l.a.createElement("img",{src:V.url,alt:"default dog",id:"profile-img"})),V.success?l.a.createElement(ce,null):null,V.error?l.a.createElement(re,null):null,l.a.createElement("div",{className:"input-field file-field"},l.a.createElement("div",{className:"waves-effect waves-light btn-large"},l.a.createElement("span",null,"Select Photo"),l.a.createElement("input",{type:"file",onChange:function(e){Y(Object(C.a)(Object(C.a)({},V),{},{success:!1,url:"../../../img/dog-icon.png"})),Z(e.target.files[0])}}))),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"waves-effect waves-light btn-large",onClick:function(e){var t=X,a=X.name.split("."),n="".concat("12934434","/").concat(a[0]),l=a[1];console.log("Preparing the upload"),N.a.post("http://localhost:3001/sign_s3",{fileName:n,fileType:l}).then((function(e){var a=e.data.data.returnData.signedRequest,n={headers:{"Content-Type":l}};N.a.put(a,t,n).then((function(t){console.log("Response from s3"),Y(Object(C.a)(Object(C.a)({},V),{},{success:!0,url:e.data.data.returnData.url}))})).catch((function(e){alert("ERROR "+JSON.stringify(e))}))})).catch((function(e){alert(JSON.stringify(e))}))}},"UPLOAD"))),l.a.createElement(T,{size:"6"},l.a.createElement("form",{onSubmit:le},l.a.createElement("h4",{className:"fieldLabelTxt"},"Profile"),l.a.createElement("div",{className:"divider"}),l.a.createElement("h5",{className:"fieldLabelTxt"},"Name:"),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{placeholder:s,type:"text",className:"validate",onChange:function(e){return m(e.target.value)},name:"name",readOnly:ae})),l.a.createElement("h5",{className:"fieldLabelTxt"},"Breed:"),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{placeholder:h,type:"text",className:"validate",onChange:function(e){return v(e.target.value)},name:"breed",readOnly:ae})),l.a.createElement("div",{className:"col s6"},l.a.createElement("h5",{className:"fieldLabelTxt"},"Age:"),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{placeholder:g,type:"text",className:"validate",onChange:function(e){return E(e.target.value)},name:"age",readOnly:ae}))),l.a.createElement("div",{className:"col s6"},l.a.createElement("h5",{className:"fieldLabelTxt"},"Gender:"),l.a.createElement("select",{className:"browser-default",onChange:function(e){return L(e.target.value)},name:"gender",value:D,disabled:ae},l.a.createElement("option",{disabled:!0},"What's their gender?"),l.a.createElement("option",null,"Male"),l.a.createElement("option",null,"Female"))),l.a.createElement("div",{className:"col s12",style:{paddingBottom:"20px"}},l.a.createElement("h5",{className:"fieldLabelTxt"},"Size:"),l.a.createElement("select",{className:"browser-default",onChange:function(e){return x(e.target.value)},name:"size",value:w,disabled:ae},l.a.createElement("option",{disabled:!0},"What's their size?"),l.a.createElement("option",null,"Small"),l.a.createElement("option",null,"Medium"),l.a.createElement("option",null,"Large"))),l.a.createElement("div",{className:"wrapper",style:{paddingTop:"100px"}},l.a.createElement("h5",{className:"fieldLabelTxt"},"About Me:"),l.a.createElement("div",{className:"input-field"},l.a.createElement("textarea",{id:"textarea1",className:"materialize-textarea",onChange:function(e){return A(e.target.value)},name:"description",disabled:ae}),l.a.createElement("label",{htmlFor:"textarea1"},W))),l.a.createElement("h5",{className:"fieldLabelTxt"},"Parks I Enjoy:"),l.a.createElement("div",{className:"input-field"},l.a.createElement("textarea",{id:"textarea1",className:"materialize-textarea"}),l.a.createElement("label",{for:"textarea1"},"What parks do you guys like to go to?")),l.a.createElement("div",{className:"col s12",style:{paddingBottom:"20px"}},l.a.createElement("h5",{className:"fieldLabelTxt"},"Location:"),l.a.createElement("select",{className:"browser-default",onChange:function(e){return G(e.target.value)},name:"location",value:q,disabled:ae},l.a.createElement("option",{disabled:!0},"Which city are you located in?"),l.a.createElement("option",null,"Toronto"),l.a.createElement("option",null,"Markham"),l.a.createElement("option",null,"Mississauga"))),l.a.createElement("button",{className:"btn",onClick:function(){ne((function(e){return!e}))}},"Edit"),l.a.createElement("button",{className:"btn submit",onClick:le,disabled:ae},"Save"))))))},z=(a(83),a(84),function(e){var t=e.children,a=Object(i.f)();return l.a.createElement(s.a,{domain:"dev-hdstwd1l.us.auth0.com",clientId:"KTFJ3BDkpepyvnqBmbtykWMLECedgxEV",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)}},t)}),F=a(40),_=function(e){var t=e.component,a=Object(F.a)(e,["component"]);return l.a.createElement(i.a,Object.assign({component:Object(s.c)(t,{onRedirecting:function(){return l.a.createElement(k,null)}})},a))};var U=function(){return l.a.createElement(o.a,null,l.a.createElement(z,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:S}),l.a.createElement(_,{exact:!0,path:"/profile",component:M}))))},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(l.a.createElement(U,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");J?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):q(e)}))}}()}},[[41,1,2]]]);
//# sourceMappingURL=main.8c08dd2d.chunk.js.map